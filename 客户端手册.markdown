# 资源岛争夺客户端使用手册

---

## 功能

- 用于连接资源岛争夺的服务端，与其他人异地进行游戏。
- 在客户端执行各种游戏操作。
- 推荐与游戏与玩家状态（`game_status_viewer.py`）实时显示器一起使用，效果更佳。

---

## 游戏过程

- 首先，启动客户端，输入服务器地址，然后自定义你的玩家名称。如果显示`已连接到xxx`类似的绿色字样，则表明连接成功，客户端会等待服务器`开始游戏`事件的下发。
- 当`开始游戏`事件下发后，表明服务器已经凑齐了设定的玩家数量，此时客户端输出绿色字样`游戏开始！`，游戏正式开始，客户端会根据服务端通知执行每回合的4个阶段。
- 客户端会创建异步任务，每三秒同步一次游戏状态，但可能无法实时显示，并且持续监听服务器消息，当收到消息会显示`收到服务器通知：xxx`的蓝色字样，并且执行某些操作。
- 每一种资源都有自己的价值，最终可以通过游戏与玩家状态（`game_status_viewer.py`）实时显示器查看资源排行决定输赢，服务器会记录数据，游戏中有市场和资源堆，服务器在人数凑齐之后，会进行初始化：
  	1. 将资源堆洗混，并且抽20张牌到市场。
  	1. 给每个玩家发放10食物和3行动点。

### 阶段1：投资

- 程序首先检测市场是否只剩下一种物品，如果是，市场上所有物品移入资源堆。

- 程序其次检测市场是否为空，如果是，强制让所有可以探索的玩家探索一次。

- 程序将会问询用户要投资什么，请根据表格回答，这是每一种投资的详情。

  	1. 探索，花费1行动点从资源堆**抽取2张牌加入市场**。
  	1. 兑换，花费1食物兑换3行动点，每回合**只可以兑换一次**。
   	3. 建造，花费3行动点建造实用建筑，以下是建筑的配方和用途，除依赖其他建筑建造的建筑，其他建造所需资源可以**等价兑换**：
       - 矿机：铁x5，铁镐x1 **使用一次后报废**，可以从市场拿取3个矿物，不够自己看着办，需要**手动投资`6.挖矿`**才能挖。
       - 炮台：金币2 防御**海盗袭击事件一次**。
       - 伐木场：铁镐1，铁4 每轮自动获取1个木材，**永久收入**，每轮自动使用
       - 铁镐：铁2 作为建建筑的材料使用或者**手动投资`7.铁镐`**来拿取**资源堆**顶端的物品。
       - 高级矿机：矿机1，金币2 矿机的升级版，每轮从市场中拿取2个矿物，**永久收入**，需**手动投资`6.挖矿`**才能挖。
       - 高级伐木场：伐木场1，金币2 伐木场的升级版，每轮从市场上拿取2个木材，**永久收入**，每轮自动使用。
       - 农场：金币3 每轮无需兑换获得2行动点，每轮自动使用，**拥有农场将无法投资`2.兑换`**。
       - 无敌农场：农场1，金币8 每轮无需兑换获得5行动点，每轮自动使用，**拥有无敌农场将无法投资`2.兑换`**。
       - 银行：金币2 每轮手动投资`5.存钱`来存入一些数量的物品，增加的数额为物品价值*存入数量，**结算时存入银行的数额将翻倍加入到玩家总价值里**。

  4. 开盲盒，花费1矿石，1行动点来抽奖，可能抽到各种矿物或者没有奖品。
  5. 存钱，必须有银行的建筑，执行后输入物品名称和数量。
  6. 挖矿，必须有矿机或者高级矿机，执行后输入要拿取的物品下标。
  7. 铁镐，必须有铁镐，执行后自动拿取。
  8. 结束回合，**务必在完成目标操作后结束回合！**

- 当所有玩家都使用了`8.结束回合`之后，服务器将会开启第二阶段。

### 阶段2：竞标